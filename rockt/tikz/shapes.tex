% document
\newcommand{\doc}{
  \node[draw, thick, minimum width=1cm, minimum height=1.4cm, fill=white] at (0,0) {};
  \foreach \y in {-.5, -.3, -.1, .1, .3, .5} {
    \draw[thick] (-.4, \y) -- (.4, \y);
  }
}

% corpus
\newcommand{\corpus}{
  \foreach \x in {.2, .1, 0} {
    \at{\x}{\x}{\doc};
  }
}

% database
\tikzset{%
  database/.style={
    cylinder,
    cylinder uses custom fill,
    cylinder body fill=black!10,
    cylinder end fill=black!10,
    shape border rotate=90,
    aspect=0.25,
    thick,
    draw
  }
}

% user
\newcommand{\user}{
  \node (0) at (0, 0.5) {};
  \node (1) at (0, -0.5) {};
  \node (2) at (-0.5, -1.25) {};
  \node (3) at (0.5, -1.25) {};
  \node (4) at (0.75, 0) {};
  \node (5) at (-0.75, 0) {};
  \node (6) at (0, 1) {};
  \draw[thick] (0.center) to (1.center);
  \draw[thick] (1.center) to (2.center);
  \draw[thick] (1.center) to (3.center);
  \draw[thick] (5.center) to (4.center);
  \draw[thick] (0,.9) circle (.4);
}

\let\auser\user